# Bootah Production Environment Configuration
# Copy this file to .env and configure for your environment

# =============================================================================
# CORE SETTINGS
# =============================================================================

NODE_ENV=production
PORT=5000
HOST=0.0.0.0

# =============================================================================
# DATABASE
# =============================================================================

# PostgreSQL connection string
# For Docker Compose: use 'postgres' as host (service name)
# For external DB: use your database host
DATABASE_URL=postgresql://bootah:YOUR_SECURE_PASSWORD@postgres:5432/bootah

# PostgreSQL password (used by docker-compose for postgres container)
POSTGRES_PASSWORD=YOUR_SECURE_PASSWORD

# =============================================================================
# AUTHENTICATION
# =============================================================================

# Authentication mode:
# - 'local': Username/password authentication (recommended for self-hosted)
# - 'replit': OAuth via Replit (for Replit platform deployments)
AUTH_MODE=local

# Session secret - MUST be at least 32 random characters
# Generate with: openssl rand -base64 32
SESSION_SECRET=GENERATE_A_SECURE_RANDOM_STRING_HERE

# Allow new user self-registration (local mode only)
# Set to 'false' in production after creating admin accounts
ALLOW_REGISTRATION=true

# Default role for new users: viewer, operator, or admin
# 'viewer' recommended for production security
DEFAULT_USER_ROLE=viewer

# =============================================================================
# PXE/NETWORK CONFIGURATION
# =============================================================================

# IP address of this server (for PXE boot configuration)
# Must be accessible from devices being imaged
PXE_SERVER_IP=192.168.1.50

# TFTP server port (standard: 69, non-privileged: 6969)
TFTP_PORT=6969

# DHCP proxy port (standard: 67, non-privileged: 4067)
DHCP_PORT=4067

# =============================================================================
# STORAGE
# =============================================================================

# Path to store OS images (inside container or on host)
IMAGE_STORAGE_PATH=/app/images

# =============================================================================
# EMAIL CONFIGURATION (for password reset)
# =============================================================================

# Email provider: 'console' (default, logs to console), 'smtp', or 'sendgrid'
EMAIL_PROVIDER=console

# Sender email address
EMAIL_FROM=Bootah <noreply@yourdomain.com>

# Application URL (used in email links)
# If not set, auto-detected from request
APP_URL=https://bootah.yourdomain.com

# --- SMTP Configuration (when EMAIL_PROVIDER=smtp) ---
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_USER=your-email@gmail.com
# SMTP_PASS=your-app-specific-password

# --- SendGrid Configuration (when EMAIL_PROVIDER=sendgrid) ---
# SENDGRID_API_KEY=SG.your-sendgrid-api-key

# =============================================================================
# OPTIONAL: FOG PROJECT INTEGRATION
# =============================================================================

# FOG_ENABLED=true
# FOG_SERVER_URL=http://your-fog-server/fog
# FOG_API_TOKEN=your-fog-api-token

# =============================================================================
# OPTIONAL: LOGGING
# =============================================================================

# Log level: debug, info, warn, error
LOG_LEVEL=info
